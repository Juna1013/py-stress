# test_02.py - サスペンション用コイルスプリングの応力計算

## 概要

自動車のサスペンションに使用されるコイルスプリングの特性計算を行い、荷重・たわみ・応力の関係を可視化するプログラムです。

## 依存ライブラリ

- `numpy` - 数値計算
- `matplotlib` - グラフ描画

## 計算モデル

### パラメータ設定

| パラメータ | 値 | 説明 |
|------------|------|------|
| d | 12.0 mm | 素線径 (Wire diameter) |
| D | 120.0 mm | コイル平均径 (Mean coil diameter) |
| Na | 5.0 | 有効巻数 (Number of active coils) |
| G | 78000 MPa | 横弾性係数 (Shear modulus) |
| Load_max | 6000 N | 想定最大荷重 |

### 計算式

#### ばね指数

$$c = \frac{D}{d}$$

#### ワールの修正係数（Wahl Correction Factor）

ばねの内側に生じる応力集中を考慮する係数：

$$K = \frac{4c - 1}{4c - 4} + \frac{0.615}{c}$$

#### ばね定数

$$k = \frac{G \cdot d^4}{8 \cdot N_a \cdot D^3}$$

#### たわみ

$$\delta = \frac{8 \cdot P \cdot N_a \cdot D^3}{G \cdot d^4}$$

#### 最大せん断応力

$$\tau = K \cdot \frac{8 \cdot P \cdot D}{\pi \cdot d^3}$$

## 出力

1. **グラフ**: 2軸グラフ（PNG形式）
   - 左軸: 荷重-たわみ曲線
   - 右軸: 発生応力曲線
   - 降伏応力目安ライン（1100 MPa）

2. **コンソール出力**:
   - ばね指数 c
   - 修正係数 K
   - ばね定数 k
   - 最大荷重時の応力

## 使用方法

```bash
python src/test_02.py
```

## 目的

コイルスプリングの設計において、荷重に対するたわみ特性と発生応力の関係を把握し、降伏応力を超えないように設計するための参考データを提供する。
